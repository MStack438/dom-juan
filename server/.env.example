# Database
DATABASE_URL=postgresql://user:password@localhost:5432/domjuan

# Session
SESSION_SECRET=change-this-in-production

# Healthcheck (optional - for monitoring services like Healthchecks.io)
HEALTHCHECK_URL=

# Environment
NODE_ENV=development

# ============================================
# TIER 1 (MVP): Enhanced Stealth Configuration
# ============================================

# Enable/disable Realtor.ca scraping (default: true)
ENABLE_REALTOR_SCRAPING=true

# Enable/disable Centris scraping (default: true)
ENABLE_CENTRIS_SCRAPING=true

# Enable stealth techniques for Realtor.ca (default: true)
ENABLE_REALTOR_STEALTH=true

# --------------------------------------------
# Proxy Configuration
# --------------------------------------------

# Enable proxy for Realtor.ca (default: false)
# Set to 'true' to use residential proxies for bypassing Incapsula
PROXY_ENABLED=false

# Proxy service: 'smartproxy' | 'brightdata' | 'none'
PROXY_SERVICE=smartproxy

# Proxy connection details (required if PROXY_ENABLED=true)
PROXY_HOST=gate.smartproxy.com
PROXY_PORT=7000
PROXY_USERNAME=your-username
PROXY_PASSWORD=your-password

# Proxy country: 'CA' | 'US' (default: CA)
PROXY_COUNTRY=CA

# --------------------------------------------
# Retry Configuration
# --------------------------------------------

# Maximum retry attempts for failed requests (default: 3)
MAX_RETRY_ATTEMPTS=3

# Base delay in milliseconds for retries (default: 2000)
RETRY_BASE_DELAY=2000

# Maximum delay in milliseconds for retries (default: 30000)
RETRY_MAX_DELAY=30000

# Backoff multiplier for exponential backoff (default: 2.0)
RETRY_BACKOFF_MULTIPLIER=2.0

# Enable jitter (randomness) in retry delays (default: true)
RETRY_ENABLE_JITTER=true

# --------------------------------------------
# Proxy Budget Management
# --------------------------------------------

# Enable bandwidth budget tracking (default: false)
PROXY_BUDGET_ENABLED=false

# Monthly bandwidth limit in GB (default: 5)
PROXY_BUDGET_MONTHLY_GB=5

# Alert threshold percentage (default: 80)
# Alert when usage exceeds this % of monthly limit
PROXY_BUDGET_ALERT_PERCENT=80

# Hard stop percentage (default: 95)
# Stop using proxy when usage exceeds this % of monthly limit
PROXY_BUDGET_STOP_PERCENT=95

# ============================================
# TIER 2: Enhanced Stealth Features
# ============================================

# Fingerprint rotation strategy: 'aggressive' | 'moderate' | 'conservative' | 'off' (default: off)
# - aggressive: New fingerprint every time (highest security, more suspicious if too frequent)
# - moderate: Rotate after 5 uses or 1 hour (balanced approach)
# - conservative: Rotate after 20 uses or 24 hours (most natural)
# - off: Use same fingerprint (faster but less secure)
FINGERPRINT_ROTATION=moderate

# ============================================
# TIER 3: Advanced Human Behavior Simulation
# ============================================

# Enable advanced human behavior (mouse movements, realistic scrolling, reading time)
# Default: true - Highly recommended for bypassing Incapsula
ENABLE_ADVANCED_HUMAN_BEHAVIOR=true

# Enable session persistence (save/load cookies between runs)
# Default: true - Makes scraper appear like a returning user
ENABLE_SESSION_PERSISTENCE=true

# Enable intelligent timing (time-of-day aware delays, burst protection)
# Default: true - Prevents detection through timing analysis
ENABLE_INTELLIGENT_TIMING=true
